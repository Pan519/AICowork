# AICowork 用户使用说明

> **版本**: 1.0.0
> **更新日期**: 2026-01-22
> **适用系统**: Windows 10/11 (x64)

---

## 目录

1. [快速开始](#快速开始)
2. [安装与启动](#安装与启动)
3. [功能概览](#功能概览)
4. [AI 对话](#ai-对话)
5. [记忆系统](#记忆系统)
6. [设置配置](#设置配置)
7. [常见问题](#常见问题)
8. [快捷键](#快捷键)

---

## 快速开始

### 最简流程

```
1. 双击安装程序 → 2. 配置 API Key → 3. 开始对话
```

### 系统要求

- **操作系统**: Windows 10/11 (64位)
- **内存**: 4GB 及以上
- **磁盘空间**: 500MB 可用空间
- **网络**: 需要联网访问 Claude API

---

## 安装与启动

### 安装步骤

1. **下载安装包**
   - 获取 `AICowork 0.1.0.exe` 安装文件

2. **运行安装程序**
   - 双击 `AICowork 0.1.0.exe`
   - 选择安装路径（默认：`C:\Users\你的用户名\AppData\Local\Programs\aicowork`）
   - 等待安装完成

3. **首次启动**
   - 安装完成后自动启动应用
   - 或从开始菜单/桌面快捷方式启动

### 卸载

1. 打开 `设置` → `应用` → `应用和功能`
2. 找到 `AICowork`
3. 点击 `卸载`

---

## 功能概览

### 主界面布局

```
┌─────────────────────────────────────────────────────┐
│  📱 AICowork                    [设置] [关于]    │
├─────────────┬───────────────────────────────────────┤
│             │                                       │
│   📋 侧边栏  │         💬 对话区域                   │
│             │                                       │
│  - 新对话    │  ┌─────────────────────────────┐    │
│  - 历史记录  │  │                             │    │
│  - 设置     │  │    AI 对话内容显示区          │    │
│             │  │                             │    │
│             │  └─────────────────────────────┘    │
│             │                                       │
│             │  ┌─────────────────────────────┐    │
│             │  │ 输入框...             [发送] │    │
│             │  └─────────────────────────────┘    │
└─────────────┴───────────────────────────────────────┘
```

### 核心功能

| 功能 | 说明 |
|------|------|
| **AI 对话** | 与 Claude 进行智能对话，支持多轮对话 |
| **记忆系统** | 持久化存储记忆，支持语义搜索和 RAG 问答 |
| **斜杠命令** | 快捷命令操作（如 `/help`） |
| **多对话管理** | 创建和管理多个对话会话 |
| **自定义设置** | 配置 API、模型参数、记忆规则等 |

---

## AI 对话

### 基础对话

1. **发送消息**
   - 在底部输入框输入文字
   - 点击 `发送` 按钮或按 `Enter` 键
   - AI 会实时回复

2. **新建对话**
   - 点击侧边栏 `+ 新对话` 按钮
   - 创建独立的对话会话

3. **查看历史**
   - 侧边栏显示历史对话列表
   - 点击切换到任意历史对话

### 模型选择

在设置中可配置：

| 配置项 | 说明 | 默认值 |
|--------|------|--------|
| **API Base URL** | Claude API 地址 | `https://api.anthropic.com` |
| **API Key** | Claude API 密钥 | 需配置 |
| **模型名称** | 使用的模型 | `claude-sonnet-4-20250514` |
| **Max Tokens** | 最大回复长度 | 8192 |
| **Temperature** | 创造性程度 (0-1) | 0.7 |

### 斜杠命令

在输入框中输入 `/` 可触发快捷命令：

| 命令 | 功能 | 示例 |
|------|------|------|
| `/help` | 显示帮助信息 | `/help` |
| `/clear` | 清空当前对话 | `/clear` |
| `/memory save` | 保存当前对话到记忆 | `/memory save` |
| `/memory search <关键词>` | 搜索记忆 | `/memory search 项目配置` |
| `/memory ask <问题>` | 基于记忆问答 | `/memory ask 如何配置 API?` |

---

## 记忆系统

### 什么是记忆系统？

记忆系统是本地的持久化知识库，可以：
- 📝 存储重要信息（项目配置、用户偏好、技术记录等）
- 🔍 智能语义搜索（关键词搜索 + 向量搜索）
- 🤖 RAG 问答（AI 基于记忆回答问题）
- 🏷️ 标签分类管理

### 记忆数据位置

```
C:\Users\你的用户名\AppData\Local\aicowork\memvid\memory.mv2
```

### 记忆管理界面

进入 `设置` → `记忆系统` 标签页

#### 配置面板

| 选项 | 说明 |
|------|------|
| **启用记忆功能** | 开启/关闭整个记忆系统 |
| **自动存储记忆** | 会话结束时自动分析并存储有价值内容 |
| **搜索模式** | 词法搜索(BM25) / 语义搜索(向量) / 自动混合 |
| **默认搜索结果数** | 每次搜索返回的结果数量 (3-20) |

#### 标签管理

**创建标签：**
1. 在设置面板找到 `标签管理` 区域
2. 点击 `+ 新建标签` 按钮
3. 输入标签名称（如：`项目配置`、`重要`）
4. 点击 `添加` 或按 `Enter` 确认

**删除标签：**
- 鼠标悬停在标签上
- 点击 `×` 删除按钮
- 确认删除

**标签用途：**
- 方便 AI 快速找到对应的记忆
- AI 也可以自动给记忆打标签

### 添加记忆

#### 方式一：手动添加

1. 点击 `+ 添加新记忆` 按钮
2. 填写信息：
   - **标题**：记忆的简要描述（如：项目根目录）
   - **内容**：详细的记忆内容
   - **分类**：选择预设分类或自定义
   - **标签**：选择一个或多个标签
3. 点击 `保存记忆`

**预设分类：**
| 分类 | 图标 | 用途 |
|------|------|------|
| 项目相关 | 📁 | 项目配置、目录结构等 |
| 用户偏好 | ⚙️ | 个人习惯、设置偏好 |
| 技术记录 | 💡 | 技术要点、代码片段 |
| 上下文信息 | 📝 | 背景信息、上下文 |
| 对话摘要 | 💬 | 重要对话总结 |
| 自定义 | 🏷️ | 用户自定义分类 |

#### 方式二：自动存储

1. 启用 `自动存储记忆`
2. 选择自动存储的分类
3. 会话结束时自动分析并存储

### 搜索记忆

1. 在搜索框输入关键词
2. 点击 `搜索` 按钮或按 `Enter`
3. 查看搜索结果和相关度分数

**搜索模式说明：**
- **词法搜索**：基于关键词匹配（BM25 算法）
- **语义搜索**：基于语义相似度（向量搜索）
- **自动混合**：智能选择最佳搜索方式

### AI 问答（RAG）

1. 点击 `💬 AI 问答` 按钮
2. 输入问题（如：项目根目录在哪里？）
3. AI 会基于记忆内容回答问题

### 编辑/删除记忆

**编辑记忆：**
1. 找到要编辑的记忆卡片
2. 悬停显示操作按钮
3. 点击 `编辑` 按钮
4. 修改内容后保存

**删除记忆：**
- 单条删除：点击记忆卡片的 `删除` 按钮
- 批量删除：
  1. 点击 `多选` 按钮进入多选模式
  2. 勾选要删除的记忆
  3. 点击 `删除选中`

**导出记忆：**
1. 进入多选模式
2. 勾选要导出的记忆
3. 点击 `导出选中`
4. 保存为 JSON 文件

### 多选操作

进入多选模式后可批量操作：
- **全选/取消全选**：点击复选框
- **批量删除**：删除选中的所有记忆
- **批量导出**：导出选中的记忆为 JSON

---

## 设置配置

### 进入设置

点击侧边栏底部 `⚙️ 设置` 图标

### 设置标签页

#### 1. 通用设置

| 选项 | 说明 |
|------|------|
| **语言** | 界面语言（中文/English） |
| **主题** | 浅色/深色主题（开发中） |

#### 2. Claude API 配置

| 配置项 | 说明 | 示例 |
|--------|------|------|
| **API Base URL** | Claude API 服务器地址 | `https://api.anthropic.com` |
| **API Key** | API 密钥 | `sk-ant-xxxxx...` |
| **模型名称** | 要使用的模型 | `claude-sonnet-4-20250514` |
| **Max Tokens** | 最大回复 Token 数 | 8192 |
| **Temperature** | 创造性 (0.0-1.0) | 0.7 |

**获取 API Key：**
1. 访问 https://console.anthropic.com
2. 注册/登录账号
3. 进入 API Keys 页面
4. 创建新的 API Key

**兼容其他服务：**
可配置为使用兼容 Claude API 的其他服务，只需修改 `API Base URL`。

#### 3. 记忆系统

详见 [记忆系统](#记忆系统) 章节

#### 4. 斜杠命令

查看和管理可用的斜杠命令列表

#### 5. 规则管理

- 管理系统提示词规则
- 支持自定义 AI 行为

#### 6. 关于

- 版本信息
- 许可证信息
- 更新日志

---

## 常见问题

### Q1: 如何获取 Claude API Key？

**A:**
1. 访问 Anthropic 官网：https://console.anthropic.com
2. 注册账号并验证邮箱
3. 进入 `API Keys` 页面
4. 点击 `Create Key` 创建新密钥
5. 复制密钥到应用设置中

### Q2: 提示 "API Key 未配置" 怎么办？

**A:**
1. 点击侧边栏 `设置` 图标
2. 进入 `Claude API` 标签
3. 在 `API Key` 输入框粘贴你的密钥
4. 点击 `保存` 按钮

### Q3: 记忆数据存储在哪里？

**A:**
记忆数据存储在本地：
```
C:\Users\你的用户名\AppData\Local\aicowork\memvid\memory.mv2
```

### Q4: 如何备份记忆数据？

**A:**
1. 进入 `设置` → `记忆系统`
2. 点击 `多选` 按钮
3. 点击全选复选框
4. 点击 `导出选中`
5. 保存 JSON 文件作为备份

### Q5: 记忆搜索没有结果？

**A:** 请检查：
1. 确认已添加记忆内容
2. 尝试不同的关键词
3. 切换搜索模式（词法/语义/自动）
4. 增加 `默认搜索结果数`

### Q6: 应用启动缓慢？

**A:**
- 首次启动需要加载记忆索引，可能需要几秒钟
- 后续启动会更快

### Q7: 如何清空所有记忆？

**A:**
1. 进入 `设置` → `记忆系统`
2. 点击 `清空` 按钮
3. 确认清空操作（**此操作不可恢复**）

### Q8: 支持哪些 Claude 模型？

**A:**
支持所有 Claude 模型，常用模型：
- `claude-sonnet-4-20250514` (推荐)
- `claude-opus-4-20250514`
- `claude-haiku-4-20250514`
- `claude-3-5-sonnet-20241022`
- `claude-3-5-haiku-20241022`

### Q9: 出现 "文件锁定" 错误？

**A:**
1. 确保只有一个应用实例在运行
2. 重启应用
3. 如果问题持续，删除临时锁文件：
   ```
   C:\Users\你的用户名\AppData\Local\Temp\.tmp*
   ```

### Q10: 如何使用自定义 API 服务？

**A:**
1. 在 `设置` → `Claude API` 中
2. 修改 `API Base URL` 为你的服务地址
3. 输入对应的 API Key
4. 确保服务兼容 Claude API 格式

---

## 快捷键

| 快捷键 | 功能 |
|--------|------|
| `Enter` | 发送消息 |
| `Shift + Enter` | 换行（不发送） |
| `Ctrl + N` | 新建对话 |
| `Ctrl + /` | 触发斜杠命令 |
| `Escape` | 关闭当前弹窗/取消操作 |

---

## 技术支持

### 反馈问题

如遇到问题或有建议，请通过以下方式反馈：

1. **查看日志**：
   ```
   C:\Users\你的用户名\AppData\Local\aicowork\logs\
   ```

2. **收集信息**：
   - 应用版本号
   - 操作系统版本
   - 错误截图
   - 日志文件

### 版本历史

| 版本 | 日期 | 更新内容 |
|------|------|----------|
| 0.1.0 | 2026-01-22 | 首个正式发布版本 |

---

## 许可证

本项目采用 AGCPA v3.0 许可证。

---

## 附录

### A. 记忆分类详解

| 分类ID | 名称 | 图标 | 推荐用途 |
|--------|------|------|----------|
| `project` | 项目相关 | 📁 | 项目结构、配置文件、依赖关系 |
| `preference` | 用户偏好 | ⚙️ | 个人习惯、设置选项、常用参数 |
| `technical` | 技术记录 | 💡 | 代码片段、技术要点、调试笔记 |
| `context` | 上下文信息 | 📝 | 项目背景、需求说明、业务逻辑 |
| `conversation` | 对话摘要 | 💬 | 重要对话总结、决策记录 |
| `custom` | 自定义 | 🏷️ | 用户自定义分类 |

### B. 搜索模式对比

| 模式 | 优点 | 缺点 | 适用场景 |
|------|------|------|----------|
| **词法搜索** | 速度快，关键词匹配准确 | 无法理解语义 | 精确关键词查找 |
| **语义搜索** | 理解语义，相关性高 | 需要向量索引 | 概念性搜索 |
| **自动混合** | 智能选择最佳方式 | 略慢 | 日常使用推荐 |

### C. 配置文件位置

| 文件 | 路径 |
|------|------|
| 应用配置 | `%USERPROFILE%\.aicowork\config.json` |
| 记忆数据 | `%USERPROFILE%\.aicowork\memvid\memory.mv2` |
| 日志文件 | `%USERPROFILE%\.aicowork\logs\` |
| 临时文件 | `%TEMP%\.aicowork\` |

---

**© 2026 AICowork. All rights reserved.**
